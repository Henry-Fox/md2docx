<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Markdownè½¬Wordè½¬æ¢å™¨</title>
  <link rel="stylesheet" href="./css/style.css">
  <meta name="description" content="">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">
  <meta property="og:image:alt" content="">

  <link rel="icon" href="./favicon.ico" sizes="any">
  <link rel="icon" href="./icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="./icon.png">

  <link rel="manifest" href="./site.webmanifest">
  <meta name="theme-color" content="#fafafa">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }
    .container {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 5px 20px;
      height: 50px;
      box-sizing: border-box;
    }
    .topbar-right {
      display: flex;
      align-items: center;
      gap: 20px;
      height: 100%;
    }
    .donate-section {
      display: flex;
      align-items: center;
      height: 100%;
    }
    .donate-qr {
      width: 50px;
      height: 50px;
      cursor: pointer;
      transition: transform 0.3s;
    }
    .donate-qr:hover {
      transform: scale(1.1);
    }
    .donate-text {
      font-size: 14px;
      color: #666;
      white-space: nowrap;
    }
    .topbar-title {
      margin: 0;
    }
    .topbar-title h1 {
      margin: 0;
      font-size: 24px;
    }
    .language-select {
      height: 32px;
    }
    main {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    .workspace {
      flex: 1;
      display: flex;
      gap: 20px;
      padding: 20px;
      box-sizing: border-box;
    }
    footer {
      padding: 10px 20px;
      text-align: center;
      font-size: 14px;
      color: #666;
    }

    /* æ¨¡æ€æ¡†æ ·å¼ */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    .modal.active {
      display: flex;
    }
    .modal-content {
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      position: relative;
      max-width: 90%;
      max-height: 90%;
    }
    .modal-qr {
      width: 300px;
      height: 300px;
      margin: 10px 0;
    }
    .modal-close {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 24px;
      color: #666;
      cursor: pointer;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: background-color 0.3s;
    }
    .modal-close:hover {
      background-color: #f0f0f0;
    }
    .modal-text {
      margin-top: 10px;
      color: #666;
      font-size: 14px;
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <div class="top-bar">
        <div class="topbar-title">
          <h1>Markdownè½¬Wordè½¬æ¢å™¨</h1>
        </div>
        <div class="topbar-right">
          <span id="donate-text" class="donate-text" data-i18n="donate.blessing">ç¥æ‰“èµçš„äººè·å¾—å¥½è¿æ°”</span>
          <div class="donate-section">
            <img src="./img/donate-qr.png" alt="æ‰“èµäºŒç»´ç " class="donate-qr" title="æ‰«ç æ‰“èµ" id="donate-qr">
          </div>
          <select id="language-select" class="language-select">
            <option value="zh">ä¸­æ–‡</option>
            <option value="en">English</option>
            <option value="fr">FranÃ§ais</option>
            <option value="es">EspaÃ±ol</option>
            <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
          </select>
        </div>
      </div>
    </header>

    <main>
      <!-- ä¸»å·¥ä½œåŒºï¼šè¾“å…¥å’Œé¢„è§ˆ -->
      <div class="workspace">
        <!-- å·¦ä¾§ï¼šMarkdownè¾“å…¥åŒº -->
        <div class="markdown-input-section">
          <div class="section-header">
            <h2>Markdownå†…å®¹</h2>
            <div class="file-actions">
              <button id="custom-file-btn" class="btn btn-secondary">é€‰æ‹©æ–‡ä»¶</button>
              <span id="file-name-label">æœªé€‰æ‹©æ–‡ä»¶</span>
              <input type="file" id="file-input" accept=".md, .txt" style="display:none;">
              <button id="clear-btn" class="btn btn-secondary">æ¸…ç©º</button>
            </div>
          </div>
          <div class="input-container">
            <textarea id="markdown-input" placeholder="åœ¨æ­¤å¤„ç²˜è´´æˆ–è¾“å…¥Markdownæ–‡æœ¬..."></textarea>
            <div class="drag-area">
              <div class="drag-message">
                <div class="icon">ğŸ“„</div>
                <div>æ‹–æ”¾Markdownæ–‡ä»¶åˆ°æ­¤å¤„</div>
              </div>
            </div>
          </div>
        </div>

        <!-- å³ä¾§ï¼šé¢„è§ˆåŒº -->
        <div class="preview-section">
          <div class="section-header">
            <h2>é¢„è§ˆ</h2>
            <div class="preview-actions">
              <button id="direct-convert-btn" class="btn btn-primary">è½¬æ¢ä¸ºDOCX</button>
            </div>
          </div>
          <div id="preview-container">
            <div class="preview-placeholder">è½¬æ¢åçš„é¢„è§ˆå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <p>Â© 2024 Markdownè½¬Wordå·¥å…· - åŸºäºdocx.js & marked.js</p>
    </footer>
  </div>

  <!-- äºŒç»´ç æ¨¡æ€æ¡† -->
  <div class="modal" id="qr-modal">
    <div class="modal-content">
      <div class="modal-close" id="modal-close">&times;</div>
      <img src="./img/donate-qr.png" alt="æ‰“èµäºŒç»´ç " class="modal-qr">
      <div class="modal-text" id="modal-text" data-i18n="donate.blessing">ç¥æ‰“èµçš„äººè·å¾—å¥½è¿æ°”</div>
    </div>
  </div>

  <script src="./js/app.js" type="module"></script>
  <script>
    // å¤šè¯­è¨€æ–‡æœ¬
    const i18n = {
      zh: {
        'donate.blessing': 'ç¥æ‰“èµçš„äººè·å¾—å¥½è¿æ°”'
      },
      en: {
        'donate.blessing': 'May good luck be with those who support us'
      },
      fr: {
        'donate.blessing': 'Que la chance soit avec ceux qui nous soutiennent'
      },
      es: {
        'donate.blessing': 'Que la buena suerte estÃ© con quienes nos apoyan'
      },
      ru: {
        'donate.blessing': 'ĞŸÑƒÑÑ‚ÑŒ ÑƒĞ´Ğ°Ñ‡Ğ° ÑĞ¾Ğ¿ÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ Ñ‚ĞµĞ¼, ĞºÑ‚Ğ¾ Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚'
      },
      ar: {
        'donate.blessing': 'Ù†ØªÙ…Ù†Ù‰ Ø§Ù„Ø­Ø¸ Ø§Ù„Ø³Ø¹ÙŠØ¯ Ù„Ù…Ù† ÙŠØ¯Ø¹Ù…Ù†Ø§'
      }
    };

    // æ›´æ–°æ–‡æœ¬
    function updateText() {
      const lang = document.getElementById('language-select').value;
      const elements = document.querySelectorAll('[data-i18n]');
      elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (i18n[lang] && i18n[lang][key]) {
          element.textContent = i18n[lang][key];
        }
      });
    }

    // ç›‘å¬è¯­è¨€åˆ‡æ¢
    document.getElementById('language-select').addEventListener('change', updateText);

    // åˆå§‹åŒ–æ–‡æœ¬
    updateText();

    // äºŒç»´ç æ¨¡æ€æ¡†åŠŸèƒ½
    const qrModal = document.getElementById('qr-modal');
    const donateQr = document.getElementById('donate-qr');
    const modalClose = document.getElementById('modal-close');

    // ç‚¹å‡»äºŒç»´ç æ˜¾ç¤ºæ¨¡æ€æ¡†
    donateQr.addEventListener('click', () => {
      qrModal.classList.add('active');
    });

    // ç‚¹å‡»å…³é—­æŒ‰é’®å…³é—­æ¨¡æ€æ¡†
    modalClose.addEventListener('click', () => {
      qrModal.classList.remove('active');
    });

    // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­æ¨¡æ€æ¡†
    qrModal.addEventListener('click', (e) => {
      if (e.target === qrModal) {
        qrModal.classList.remove('active');
      }
    });

    // æŒ‰ESCé”®å…³é—­æ¨¡æ€æ¡†
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && qrModal.classList.contains('active')) {
        qrModal.classList.remove('active');
      }
    });
  </script>
</body>

</html>
